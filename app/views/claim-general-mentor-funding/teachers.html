
{% set formAction   = "./teachers-answer" %}
{% set providerName = data.providers[ providerIndex ].name if data.providers[ providerIndex ].name else "Example provider" %}

{% set pageHeadingHtml -%}
  General mentors who trained with <span class="app-nowrap">{{ providerName }}</span>
{%- endset %}
{% set pageHeading = pageHeadingHtml | stripHtml %}

{% extends "_templates/_form.html" %}



{% block formContent %}
  <h1 class="govuk-heading-l">
    {{ pageHeadingHtml | safe }}
  </h1>
  {% for teacherIndex in range(1, data.maxGeneralMentors + 1) %}
    {% set otherAmountHtml %}
      {{ govukInput({
        id: "teacher-" + teacherIndex + "-trainingTime",
        name: "teachers[" + ( teacherIndex ) + "][trainingTime]",
        suffix: {
          text: "hours"
        },
        classes: "govuk-input--width-2",
        label: {
          text: "Training time"
        }
      }) }}
    {% endset -%}
    <div
      id="{{ teacherIndex | getOrdinalName }}-teacher-input-group"
      class="{{ 'app-display-hidden' if loop.index > 1 }}">
        <h2 class="govuk-heading-m">
          {{ teacherIndex | getOrdinalName | sentenceCase }} general mentor
        </h2>
        {{ govukInput({
          label: {
            text: "Full name",
            classes: "govuk-label--s"
          },
          classes: "govuk-!-width-one-half",
          id: "teacher-" + teacherIndex,
          name: "teachers[" + ( teacherIndex ) + "][name]",
          value: data.teachers[ providerIndex ].teachers[ teacherIndex ]["name"]
        }) }}
        {{ govukInput({
          label: {
            text: "Teacher reference number (TRN)",
            classes: "govuk-label--s"
          },
          classes: "govuk-input--width-10",
          id: "teacher-" + teacherIndex + "-TRN",
          name: "teachers[" + ( teacherIndex ) + "][trn]",
          value: data.teachers[ providerIndex ].teachers[ teacherIndex ]["trn"]
        }) }}
        {{ govukDateInput({
          id: "teacher-DOB-" + teacherIndex,
          namePrefix: "teachers[" + ( teacherIndex ) + "][dateOfBirth]",
          fieldset: {
            legend: {
              text: "Date of birth",
              classes: "govuk-fieldset__legend--s"
            }
          },
          hint: {
            text: "For example, 27 3 2007"
          }
        }) }}
        {{ govukRadios({
          idPrefix: "teacher-" + teacherIndex + "-trainingTime",
          name: "teachers[" + ( teacherIndex ) + "][trainingTime]",
          fieldset: {
            legend: {
              text: "Mentor training time",
              classes: "govuk-fieldset__legend--s"
            }
          },
          items: [
            {
              value: 20,
              text: "20 hours"
            },
            {
              value: 6,
              text: "6 hours"
            },
            {
              value: "",
              text:  "Other amount",
              conditional: {
                html: otherAmountHtml
              }
            }
          ]
        }) }}
      </div>
    {% if loop.index > 1 %}
        <a 
          id=   "remove-{{ teacherIndex | getOrdinalName }}-teacher"
          href= "#"
          type= "button"
          class="
            govuk-link
            govuk-link--no-visited-state
            govuk-body
            app-display-hidden
            govuk-!-margin-bottom-7"
          >
          Remove {{ teacherIndex | getOrdinalName }} teacher
        </a>
    {% endif %}
  {% endfor %}
  {{ govukButton({
    text:    "Add another teacher",
    classes: "govuk-button--secondary",
    attributes: {
      "type": "button",
      "name": "add-teacher",
      "id":   "add-teacher"
    }
  }) }}
{% endblock %}
